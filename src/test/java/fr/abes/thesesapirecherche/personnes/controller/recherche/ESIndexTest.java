package fr.abes.thesesapirecherche.personnes.controller.recherche;

import fr.abes.thesesapirecherche.EnableOnIntegrationTest;
import fr.abes.thesesapirecherche.personnes.controller.PersonneControllerTest;
import org.hamcrest.Matchers;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

public class ESIndexTest extends PersonneControllerTest {

    @Test
    @DisplayName("Jeu de données 'per_recherche_simple_rousseau'")
    @EnableOnIntegrationTest
    public void per_recherche_simple_rousseau() throws Exception {
        mockMvc.perform(get("/api/v1/tests/personnes/recherche/?q=*&index=per_recherche_simple_rousseau&debut=0&nombre=100"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.personnes[?(@.id=='026982765')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='026982765')].nom").value("Lemoine"))
                .andExpect(jsonPath("$.personnes[?(@.id=='026982765')].prenom").value("Serge"))
                .andExpect(jsonPath("$.personnes[?(@.id=='026982765')].theses[?(@.nnt=='1997PA040286')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='026982765')].theses[?(@.nnt=='1997PA040286')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='1997PA040286')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='1997PA040286')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.nom=='Arzel' && @.prenom=='Erwan')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.nom=='Arzel' && @.prenom=='Erwan')].theses[?(@.nnt=='1999ROUES082')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.nom=='Arzel' && @.prenom=='Erwan')].theses[?(@.nnt=='1999ROUES082')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='074589253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='074589253')].nom").value("Marsais"))
                .andExpect(jsonPath("$.personnes[?(@.id=='074589253')].prenom").value("Francis"))
                .andExpect(jsonPath("$.personnes[?(@.id=='074589253')].theses[?(@.nnt=='1999ROUES082')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='074589253')].theses[?(@.nnt=='1999ROUES082')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='070971781')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='070971781')].nom").value("Amouroux"))
                .andExpect(jsonPath("$.personnes[?(@.id=='070971781')].prenom").value("Jacques"))
                .andExpect(jsonPath("$.personnes[?(@.id=='070971781')].theses[?(@.nnt=='2003PA066582')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='070971781')].theses[?(@.nnt=='2003PA066582')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081810652')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081810652')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081810652')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081810652')].theses[?(@.nnt=='2003PA066582')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081810652')].theses[?(@.nnt=='2003PA066582')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098307991')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098307991')].nom").value("Dethloff"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098307991')].prenom").value("Gerd-Eberhard"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098307991')].theses[?(@.nnt=='2004BRES2040')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098307991')].theses[?(@.nnt=='2004BRES2040')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].prenom").value("Erwan"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2004BRES2040')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2004BRES2040')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='117391727')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='117391727')].nom").value("Bertolotti"))
                .andExpect(jsonPath("$.personnes[?(@.id=='117391727')].prenom").value("Anne"))
                .andExpect(jsonPath("$.personnes[?(@.id=='117391727')].theses[?(@.nnt=='2007PA066375')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='117391727')].theses[?(@.nnt=='2007PA066375')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='127566635')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='127566635')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='127566635')].prenom").value("Erwann"))
                .andExpect(jsonPath("$.personnes[?(@.id=='127566635')].theses[?(@.nnt=='2007PA066375')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='127566635')].theses[?(@.nnt=='2007PA066375')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='074001973')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='074001973')].nom").value("Abraham"))
                .andExpect(jsonPath("$.personnes[?(@.id=='074001973')].prenom").value("Pierre"))
                .andExpect(jsonPath("$.personnes[?(@.id=='074001973')].theses[?(@.nnt=='2011ANGE0040')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='074001973')].theses[?(@.nnt=='2011ANGE0040')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='128704802')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='128704802')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='128704802')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='128704802')].theses[?(@.nnt=='2011ANGE0040')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='128704802')].theses[?(@.nnt=='2011ANGE0040')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='162338902')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='162338902')].nom").value("Chazal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='162338902')].prenom").value("Hervé"))
                .andExpect(jsonPath("$.personnes[?(@.id=='162338902')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='162338902')].theses[?(@.nnt=='2016SACLN057')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='160358280')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='160358280')].nom").value("Labouré"))
                .andExpect(jsonPath("$.personnes[?(@.id=='160358280')].prenom").value("Eric"))
                .andExpect(jsonPath("$.personnes[?(@.id=='160358280')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='160358280')].theses[?(@.nnt=='2016SACLN057')].role", Matchers.containsInRelativeOrder("président du jury","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='182066533')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='182066533')].nom").value("Lebourgeois"))
                .andExpect(jsonPath("$.personnes[?(@.id=='182066533')].prenom").value("Richard"))
                .andExpect(jsonPath("$.personnes[?(@.id=='182066533')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='182066533')].theses[?(@.nnt=='2016SACLN057')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='093051867')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='093051867')].nom").value("Loyau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='093051867')].prenom").value("Vincent"))
                .andExpect(jsonPath("$.personnes[?(@.id=='093051867')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='093051867')].theses[?(@.nnt=='2016SACLN057')].role", Matchers.containsInRelativeOrder("directeur de thèse","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='103327525')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='103327525')].nom").value("Mazaleyrat"))
                .andExpect(jsonPath("$.personnes[?(@.id=='103327525')].prenom").value("Frédéric"))
                .andExpect(jsonPath("$.personnes[?(@.id=='103327525')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='103327525')].theses[?(@.nnt=='2016SACLN057')].role", Matchers.containsInRelativeOrder("directeur de thèse","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='198198787')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='198198787')].nom").value("Mercier"))
                .andExpect(jsonPath("$.personnes[?(@.id=='198198787')].prenom").value("Adrien"))
                .andExpect(jsonPath("$.personnes[?(@.id=='198198787')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='198198787')].theses[?(@.nnt=='2016SACLN057')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].prenom").value("Jean-Jacques"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2016SACLN057')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='078961424')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='078961424')].nom").value("Sarraute"))
                .andExpect(jsonPath("$.personnes[?(@.id=='078961424')].prenom").value("Emmanuel"))
                .andExpect(jsonPath("$.personnes[?(@.id=='078961424')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='078961424')].theses[?(@.nnt=='2016SACLN057')].role", Matchers.containsInRelativeOrder("rapporteur","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='033876487')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='033876487')].nom").value("Valenzuela"))
                .andExpect(jsonPath("$.personnes[?(@.id=='033876487')].prenom").value("Raul"))
                .andExpect(jsonPath("$.personnes[?(@.id=='033876487')].theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='033876487')].theses[?(@.nnt=='2016SACLN057')].role", Matchers.containsInRelativeOrder("rapporteur","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='096438878')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='096438878')].nom").value("Hinaje"))
                .andExpect(jsonPath("$.personnes[?(@.id=='096438878')].prenom").value("Melika"))
                .andExpect(jsonPath("$.personnes[?(@.id=='096438878')].theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='096438878')].theses[?(@.nnt=='2017ECLI0025')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='112618111')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='112618111')].nom").value("Joubert"))
                .andExpect(jsonPath("$.personnes[?(@.id=='112618111')].prenom").value("Charles"))
                .andExpect(jsonPath("$.personnes[?(@.id=='112618111')].theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='112618111')].theses[?(@.nnt=='2017ECLI0025')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='103726209')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='103726209')].nom").value("Le Moigne"))
                .andExpect(jsonPath("$.personnes[?(@.id=='103726209')].prenom").value("Philippe"))
                .andExpect(jsonPath("$.personnes[?(@.id=='103726209')].theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='103726209')].theses[?(@.nnt=='2017ECLI0025')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='118915835')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='118915835')].nom").value("Margueron"))
                .andExpect(jsonPath("$.personnes[?(@.id=='118915835')].prenom").value("Xavier"))
                .andExpect(jsonPath("$.personnes[?(@.id=='118915835')].theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='118915835')].theses[?(@.nnt=='2017ECLI0025')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='227347641')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='227347641')].nom").value("Ngoua teu Magambo"))
                .andExpect(jsonPath("$.personnes[?(@.id=='227347641')].prenom").value("Jean-Sylvio"))
                .andExpect(jsonPath("$.personnes[?(@.id=='227347641')].theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='227347641')].theses[?(@.nnt=='2017ECLI0025')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].prenom").value("Jean-Jacques"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2017ECLI0025')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='07069348X')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='07069348X')].nom").value("Boucksom"))
                .andExpect(jsonPath("$.personnes[?(@.id=='07069348X')].prenom").value("Sébastien"))
                .andExpect(jsonPath("$.personnes[?(@.id=='07069348X')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='07069348X')].theses[?(@.nnt=='2017GREAM026')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='028750691')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='028750691')].nom").value("Demailly"))
                .andExpect(jsonPath("$.personnes[?(@.id=='028750691')].prenom").value("Jean-Pierre"))
                .andExpect(jsonPath("$.personnes[?(@.id=='028750691')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='028750691')].theses[?(@.nnt=='2017GREAM026')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='223395471')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='223395471')].nom").value("Deng"))
                .andExpect(jsonPath("$.personnes[?(@.id=='223395471')].prenom").value("Ya"))
                .andExpect(jsonPath("$.personnes[?(@.id=='223395471')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='223395471')].theses[?(@.nnt=='2017GREAM026')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].nom").value("Diverio"))
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].prenom").value("Simone"))
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].theses[?(@.nnt=='2017GREAM026')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='096319097')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='096319097')].nom").value("Eyssidieux"))
                .andExpect(jsonPath("$.personnes[?(@.id=='096319097')].prenom").value("Philippe"))
                .andExpect(jsonPath("$.personnes[?(@.id=='096319097')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='096319097')].theses[?(@.nnt=='2017GREAM026')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='07099563X')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='07099563X')].nom").value("Hu"))
                .andExpect(jsonPath("$.personnes[?(@.id=='07099563X')].prenom").value("Sen"))
                .andExpect(jsonPath("$.personnes[?(@.id=='07099563X')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='07099563X')].theses[?(@.nnt=='2017GREAM026')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='152938095')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='152938095')].nom").value("Mourougane"))
                .andExpect(jsonPath("$.personnes[?(@.id=='152938095')].prenom").value("Christophe"))
                .andExpect(jsonPath("$.personnes[?(@.id=='152938095')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='152938095')].theses[?(@.nnt=='2017GREAM026')].role").value("président du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].prenom").value("Erwan"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2017GREAM026')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='180858416')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='180858416')].nom").value("Conésa"))
                .andExpect(jsonPath("$.personnes[?(@.id=='180858416')].prenom").value("Héloïse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='180858416')].theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='180858416')].theses[?(@.nnt=='2017PA01H038')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='069324328')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='069324328')].nom").value("Giraud"))
                .andExpect(jsonPath("$.personnes[?(@.id=='069324328')].prenom").value("Paul-Henri"))
                .andExpect(jsonPath("$.personnes[?(@.id=='069324328')].theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='069324328')].theses[?(@.nnt=='2017PA01H038')].role").value("président du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032074638')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='032074638')].nom").value("Poivert"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032074638')].prenom").value("Michel"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032074638')].theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='032074638')].theses[?(@.nnt=='2017PA01H038')].role", Matchers.containsInRelativeOrder("directeur de thèse","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2017PA01H038')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032105541')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='032105541')].nom").value("Terrasa"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032105541')].prenom").value("Jacques"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032105541')].theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='032105541')].theses[?(@.nnt=='2017PA01H038')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='08754119X')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='08754119X')].nom").value("Bergogne"))
                .andExpect(jsonPath("$.personnes[?(@.id=='08754119X')].prenom").value("Dominique"))
                .andExpect(jsonPath("$.personnes[?(@.id=='08754119X')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='08754119X')].theses[?(@.nnt=='2018LYSE1193')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='147077788')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='147077788')].nom").value("Clavel"))
                .andExpect(jsonPath("$.personnes[?(@.id=='147077788')].prenom").value("Edith"))
                .andExpect(jsonPath("$.personnes[?(@.id=='147077788')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='147077788')].theses[?(@.nnt=='2018LYSE1193')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='158564022')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='158564022')].nom").value("Gao"))
                .andExpect(jsonPath("$.personnes[?(@.id=='158564022')].prenom").value("Fei"))
                .andExpect(jsonPath("$.personnes[?(@.id=='158564022')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='158564022')].theses[?(@.nnt=='2018LYSE1193')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='088408892')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='088408892')].nom").value("Ginot"))
                .andExpect(jsonPath("$.personnes[?(@.id=='088408892')].prenom").value("Nicolas"))
                .andExpect(jsonPath("$.personnes[?(@.id=='088408892')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='088408892')].theses[?(@.nnt=='2018LYSE1193')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='079212298')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='079212298')].nom").value("Raulet"))
                .andExpect(jsonPath("$.personnes[?(@.id=='079212298')].prenom").value("Marie-Ange"))
                .andExpect(jsonPath("$.personnes[?(@.id=='079212298')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='079212298')].theses[?(@.nnt=='2018LYSE1193')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='083015388')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='083015388')].nom").value("Razik"))
                .andExpect(jsonPath("$.personnes[?(@.id=='083015388')].prenom").value("Hubert"))
                .andExpect(jsonPath("$.personnes[?(@.id=='083015388')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='083015388')].theses[?(@.nnt=='2018LYSE1193')].role", Matchers.containsInRelativeOrder("directeur de thèse","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].prenom").value("Jean-Jacques"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2018LYSE1193')].role").value("président du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='235712973')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='235712973')].nom").value("Wanderoild-Morand"))
                .andExpect(jsonPath("$.personnes[?(@.id=='235712973')].prenom").value("Yohan"))
                .andExpect(jsonPath("$.personnes[?(@.id=='235712973')].theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='235712973')].theses[?(@.nnt=='2018LYSE1193')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='061620262')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='061620262')].nom").value("Claustres"))
                .andExpect(jsonPath("$.personnes[?(@.id=='061620262')].prenom").value("Annie"))
                .andExpect(jsonPath("$.personnes[?(@.id=='061620262')].theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='061620262')].theses[?(@.nnt=='2019LYSE2095')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='031669816')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='031669816')].nom").value("Dufrêne"))
                .andExpect(jsonPath("$.personnes[?(@.id=='031669816')].prenom").value("Thierry"))
                .andExpect(jsonPath("$.personnes[?(@.id=='031669816')].theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='031669816')].theses[?(@.nnt=='2019LYSE2095')].role").value("président du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032081103')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='032081103')].nom").value("Kempf"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032081103')].prenom").value("Jean"))
                .andExpect(jsonPath("$.personnes[?(@.id=='032081103')].theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='032081103')].theses[?(@.nnt=='2019LYSE2095')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='167302647')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='167302647')].nom").value("Lécallier"))
                .andExpect(jsonPath("$.personnes[?(@.id=='167302647')].prenom").value("Sylvie"))
                .andExpect(jsonPath("$.personnes[?(@.id=='167302647')].theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='167302647')].theses[?(@.nnt=='2019LYSE2095')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2019LYSE2095')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='152651071')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='152651071')].nom").value("Van de Casteele"))
                .andExpect(jsonPath("$.personnes[?(@.id=='152651071')].prenom").value("Marlène"))
                .andExpect(jsonPath("$.personnes[?(@.id=='152651071')].theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='152651071')].theses[?(@.nnt=='2019LYSE2095')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='084065400')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='084065400')].nom").value("Capraro"))
                .andExpect(jsonPath("$.personnes[?(@.id=='084065400')].prenom").value("Stéphane"))
                .andExpect(jsonPath("$.personnes[?(@.id=='084065400')].theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='084065400')].theses[?(@.nnt=='2019LYSES011')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='242195210')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='242195210')].nom").value("Djiddo"))
                .andExpect(jsonPath("$.personnes[?(@.id=='242195210')].prenom").value("Ali Oumar"))
                .andExpect(jsonPath("$.personnes[?(@.id=='242195210')].theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='242195210')].theses[?(@.nnt=='2019LYSES011')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='102939373')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='102939373')].nom").value("Flechet"))
                .andExpect(jsonPath("$.personnes[?(@.id=='102939373')].prenom").value("Bernard"))
                .andExpect(jsonPath("$.personnes[?(@.id=='102939373')].theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='102939373')].theses[?(@.nnt=='2019LYSES011')].role").value("président du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='059871776')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='059871776')].nom").value("Podevin"))
                .andExpect(jsonPath("$.personnes[?(@.id=='059871776')].prenom").value("Florence"))
                .andExpect(jsonPath("$.personnes[?(@.id=='059871776')].theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='059871776')].theses[?(@.nnt=='2019LYSES011')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].prenom").value("Jean-Jacques"))
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='081954522')].theses[?(@.nnt=='2019LYSES011')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='099468530')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='099468530')].nom").value("Calaque"))
                .andExpect(jsonPath("$.personnes[?(@.id=='099468530')].prenom").value("Damien"))
                .andExpect(jsonPath("$.personnes[?(@.id=='099468530')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='099468530')].theses[?(@.nnt=='2020AIXM0184')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='231207972')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='231207972')].nom").value("Cirici"))
                .andExpect(jsonPath("$.personnes[?(@.id=='231207972')].prenom").value("Joana"))
                .andExpect(jsonPath("$.personnes[?(@.id=='231207972')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='231207972')].theses[?(@.nnt=='2020AIXM0184')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='139287256')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='139287256')].nom").value("Grivaux"))
                .andExpect(jsonPath("$.personnes[?(@.id=='139287256')].prenom").value("Julien"))
                .andExpect(jsonPath("$.personnes[?(@.id=='139287256')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='139287256')].theses[?(@.nnt=='2020AIXM0184')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254821111')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='254821111')].nom").value("Hosgood"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254821111')].prenom").value("Timothy"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254821111')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='254821111')].theses[?(@.nnt=='2020AIXM0184')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='156824078')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='156824078')].nom").value("Hubert"))
                .andExpect(jsonPath("$.personnes[?(@.id=='156824078')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='156824078')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='156824078')].theses[?(@.nnt=='2020AIXM0184')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].prenom").value("Erwan"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2020AIXM0184')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='113038518')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='113038518')].nom").value("Toën"))
                .andExpect(jsonPath("$.personnes[?(@.id=='113038518')].prenom").value("Bertrand"))
                .andExpect(jsonPath("$.personnes[?(@.id=='113038518')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='113038518')].theses[?(@.nnt=='2020AIXM0184')].role").value("président du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254823718')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='254823718')].nom").value("Tu"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254823718')].prenom").value("Junwu"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254823718')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='254823718')].theses[?(@.nnt=='2020AIXM0184')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254823963')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='254823963')].nom").value("Zeinalian"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254823963')].prenom").value("Mahmoud"))
                .andExpect(jsonPath("$.personnes[?(@.id=='254823963')].theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='254823963')].theses[?(@.nnt=='2020AIXM0184')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='221682724')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='221682724')].nom").value("Hammen"))
                .andExpect(jsonPath("$.personnes[?(@.id=='221682724')].prenom").value("Emilie"))
                .andExpect(jsonPath("$.personnes[?(@.id=='221682724')].theses[?(@.nnt=='2020PA01H073')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='221682724')].theses[?(@.nnt=='2020PA01H073')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2020PA01H073')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2020PA01H073')].role", Matchers.containsInRelativeOrder("directeur de thèse","membre du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='178429708')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='178429708')].nom").value("Dumontet"))
                .andExpect(jsonPath("$.personnes[?(@.id=='178429708')].prenom").value("Erwan"))
                .andExpect(jsonPath("$.personnes[?(@.id=='178429708')].theses[?(@.nnt=='2020REN1B015')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='178429708')].theses[?(@.nnt=='2020REN1B015')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='069185646')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='069185646')].nom").value("Tarte"))
                .andExpect(jsonPath("$.personnes[?(@.id=='069185646')].prenom").value("Karin"))
                .andExpect(jsonPath("$.personnes[?(@.id=='069185646')].theses[?(@.nnt=='2020REN1B015')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='069185646')].theses[?(@.nnt=='2020REN1B015')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='156182831')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='156182831')].nom").value("Brotbek"))
                .andExpect(jsonPath("$.personnes[?(@.id=='156182831')].prenom").value("Damian"))
                .andExpect(jsonPath("$.personnes[?(@.id=='156182831')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='156182831')].theses[?(@.nnt=='2021AIXM0253')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='184714346')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='184714346')].nom").value("Darondeau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='184714346')].prenom").value("Lionel"))
                .andExpect(jsonPath("$.personnes[?(@.id=='184714346')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='184714346')].theses[?(@.nnt=='2021AIXM0253')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].nom").value("Diverio"))
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].prenom").value("Simone"))
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='133999793')].theses[?(@.nnt=='2021AIXM0253')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='221478388')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='221478388')].nom").value("Amerik"))
                .andExpect(jsonPath("$.personnes[?(@.id=='221478388')].prenom").value("Ekaterina"))
                .andExpect(jsonPath("$.personnes[?(@.id=='221478388')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='221478388')].theses[?(@.nnt=='2021AIXM0253')].role").value("membre du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='262100606')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='262100606')].nom").value("Etesse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='262100606')].prenom").value("Antoine"))
                .andExpect(jsonPath("$.personnes[?(@.id=='262100606')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='262100606')].theses[?(@.nnt=='2021AIXM0253')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='137728395')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='137728395')].nom").value("Roulleau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='137728395')].prenom").value("Xavier"))
                .andExpect(jsonPath("$.personnes[?(@.id=='137728395')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='137728395')].theses[?(@.nnt=='2021AIXM0253')].role").value("président du jury"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].prenom").value("Erwan"))
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='098248782')].theses[?(@.nnt=='2021AIXM0253')].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050264753')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050264753')].nom").value("Winkelmann"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050264753')].prenom").value("Jörg"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050264753')].theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050264753')].theses[?(@.nnt=='2021AIXM0253')].role").value("rapporteur"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].nom").value("Rousseau"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].prenom").value("Pascal"))
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2021SORUL154')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='050646176')].theses[?(@.nnt=='2021SORUL154')].role", Matchers.containsInRelativeOrder("rapporteur","président du jury")))
                .andExpect(jsonPath("$.personnes[?(@.id=='199688613')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='199688613')].nom").value("Sergent"))
                .andExpect(jsonPath("$.personnes[?(@.id=='199688613')].prenom").value("Marion"))
                .andExpect(jsonPath("$.personnes[?(@.id=='199688613')].theses[?(@.nnt=='2021SORUL154')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.id=='199688613')].theses[?(@.nnt=='2021SORUL154')].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.nom=='Bernard-brunel' && @.prenom=='Léandre')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.nom=='Bernard-brunel' && @.prenom=='Léandre')].theses[0]").exists())
                .andExpect(jsonPath("$.personnes[?(@.nom=='Bernard-brunel' && @.prenom=='Léandre')].theses[0].role").value("auteur"))
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Rousseau' && @.prenom=='Pascal')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Rousseau' && @.prenom=='Pascal')].theses[0]").exists())
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Rousseau' && @.prenom=='Pascal')].theses[0].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Rousseau' && @.prenom=='Erwan')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Rousseau' && @.prenom=='Erwan')].theses[0]").exists())
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Rousseau' && @.prenom=='Erwan')].theses[0].role").value("directeur de thèse"))
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Weibel' && @.prenom=='Laurine')]").exists())
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Weibel' && @.prenom=='Laurine')].theses[0]").exists())
                .andExpect(jsonPath("$.personnes[?(@.has_idref==false && @.nom=='Weibel' && @.prenom=='Laurine')].theses[0].role").value("auteur"));
    }

    @Test
    @DisplayName("Jeu de données 'per_affichage_theses_roles_etabs_disc'")
    @EnableOnIntegrationTest
    public void per_affichage_theses_roles_etabs_disc() throws Exception {
        mockMvc.perform(get("/api/v1/tests/personnes/recherche/?q=*&index=per_affichage_theses_roles_etabs_disc&debut=0&nombre=1000"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$..theses[?(@.nnt=='1995ISAL0076')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='1996ISAL0026')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='1997PA040286')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='1999ROUES082')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2000STET4011')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2003ISAL0049')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2003PA066582')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2004BRES2040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2004INPG0060')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2004STET4010')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2004STET4012')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2007INPG0139')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2007PA066375')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2008ISAL0003')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2008STET4009')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2008STET4015')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2010STET4019')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2011ANGE0040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2011PA040151')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2011STET4012')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2011STET4017')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012AIXM3115')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012GRENY105')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012PA010644')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012PA010707')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012PA040212')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012STET4009')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012STET4019')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2013PA010597')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2013PA010652')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2013PA100201')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2013STET4002')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2013STET4011')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014AIXM4745')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014PA040127')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014PA112271')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014STET4002')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014STET4006')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014STET4010')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014STET4015')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2015CAEN2008')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2015GREAT020')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2015PA010584')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2015STET4004')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016LYSES015')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016LYSES039')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016LYSES056')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016PA01H032')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016PA040017')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016PA040052')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016PA040191')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016SACLN057')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016SACLS213')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017LYSES011')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017LYSES012')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017LYSES022')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017SACLS479')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017SACLX027')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018AIXM0140')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018AIXM0198')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018AIXM0224')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018AIXM0659')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018PA01H046')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018PA01H049')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019LYSES010')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019PA01H036')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019PA01H067')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019PA01H090')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020PA01H040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020PA01H073')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020REN1B015')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2021PA080021')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2021SORUL154')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2022PA01H030')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2022PA01H081')]").exists());
    }

    @Test
    @DisplayName("Jeu de données 'per_recherche_simple_rousseau_ponderationv2'")
    @EnableOnIntegrationTest
    public void per_recherche_simple_rousseau_ponderationv2() throws Exception {
        mockMvc.perform(get("/api/v1/tests/personnes/recherche/?q=*&index=per_recherche_simple_rousseau_ponderationv2&debut=0&nombre=100"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2021SORUL154')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2003PA066582')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='1999ROUES082')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2011ANGE0040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2004BRES2040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020REN1B015')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020PA01H073')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016SACLN057')]").exists());
    }

    @Test
    @DisplayName("Jeu de données 'per_recherche_simple_nom_prenom'")
    @EnableOnIntegrationTest
    public void per_recherche_simple_nom_prenom() throws Exception {
        mockMvc.perform(get("/api/v1/tests/personnes/recherche/?q=*&index=per_recherche_simple_nom_prenom&debut=0&nombre=100"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017PA01H038')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2021AIXM0253')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017ECLI0025')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2021SORUL154')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2003PA066582')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='1999ROUES082')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2011ANGE0040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018LYSE1193')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2004BRES2040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2007PA066375')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019LYSE2095')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='1997PA040286')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020REN1B015')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2019LYSES011')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020PA01H073')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016SACLN057')]").exists());
    }

    @Test
    @DisplayName("Jeu de données 'per_recherche_sujet'")
    @EnableOnIntegrationTest
    public void per_recherche_sujet() throws Exception {
        mockMvc.perform(get("/api/v1/tests/personnes/recherche/?q=*&index=per_recherche_sujet&debut=0&nombre=100"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2004BRES2040')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014AIXM4745')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2016SACLS213')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017GREAM026')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2017SACLX027')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018AIXM0198')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018AIXM0224')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2018AIXM0659')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020AIXM0184')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2021AIXM0253')]").exists());
    }

    @Test
    @DisplayName("Jeu de données 'per_recherche_simple_autocompl_thematique'")
    @EnableOnIntegrationTest
    public void per_recherche_simple_autocompl_thematique() throws Exception {
        mockMvc.perform(get("/api/v1/tests/personnes/recherche/?q=*&index=per_recherche_simple_autocompl_thematique&debut=0&nombre=100"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2000PA010697')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2001MNHN0022')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2003MON30025')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2003PA100181')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2011AIX10218')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2012PA010501')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014TOU20035')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2014TOU20047')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2015TOU20116')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020PA100137')]").exists())
                .andExpect(jsonPath("$..theses[?(@.nnt=='2020TOU20084')]").exists());
    }
}
